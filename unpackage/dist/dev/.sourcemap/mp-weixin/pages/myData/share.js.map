{"version":3,"sources":["webpack:///F:/项目总文件夹/intellect-uniapp/main.js","webpack:///F:/项目总文件夹/intellect-uniapp/pages/myData/share.vue?6641","webpack:///F:/项目总文件夹/intellect-uniapp/pages/myData/share.vue?5de7","webpack:///F:/项目总文件夹/intellect-uniapp/pages/myData/share.vue?295c","webpack:///F:/项目总文件夹/intellect-uniapp/pages/myData/share.vue?9a1b","webpack:///F:/项目总文件夹/intellect-uniapp/pages/myData/share.vue","webpack:///F:/项目总文件夹/intellect-uniapp/pages/myData/share.vue?1c76"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","mpWxQr","canvasW","canvasH","bgH","invest_areas","id","name","nickname","avatar","company","phone","email","location","finished","computed","showInvestAreas","names","forEach","item","push","join","onLoad","uni","getSystemInfoSync","windowWidth","calculateCanvasHeight","windowHeight","console","log","toDrawCanvas","methods","toSaveImage","canvasToTempFilePath","canvasId","success","res","tempFilePath","saveImageToPhotosAlbum","filePath","showToast","title","fail","err","errMsg","showModal","content","showCancel","confirm","openSetting","settingdata","authSetting","icon","padding","upx2px","cardHeight","cw","ctx","createCanvasContext","setFillStyle","fillRect","drawImage","av","downloadImage","hi","drawHelloInfo","hello","totalH","draw","drawCard","x","y","w","h","vp","hp","setTextBaseline","fz30","fillStyle","setFontSize","fillText","fz50","iconW","textH","oPadding","iPadding","textW","drawTextInOneLine","text","lines","drawTextInLines","fz28","ttt","rows","cardH","_drawRoundRect","r","beginPath","arc","Math","PI","closePath","fill","drawRoundRect","lineWidth","save","clip","bWidth","restore","drawRoundRectAvatar","imgPath","t","lineHeight","chr","split","temp","row","i","length","measureText","width","substring","url","Promise","resolve","reject","downloadFile"],"mappings":"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","file":"pages/myData/share.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/myData/share.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./share.vue?vue&type=template&id=9dd91858&\"\nvar renderjs\nimport script from \"./share.vue?vue&type=script&lang=js&\"\nexport * from \"./share.vue?vue&type=script&lang=js&\"\nimport style0 from \"./share.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"F:/项目总文件夹/intellect-uniapp/pages/myData/share.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=template&id=9dd91858&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tmpWxQr: \"https://img1.baidu.com/it/u=1078861629,3747050294&fm=26&fmt=auto&gp=0.jpg\",\n\t\t\tcanvasW: 0,\n\t\t\tcanvasH: 0,\n\t\t\tbgH:0,\n\t\t\tinvest_areas: [{id: 1, name: \"儿童教育\"}, {id: 1, name: \"少儿编程\"}, {id: 1, name: \"生物智能\"}, {id: 1, name: \"万物相连\"}, {id: 1, name: \"大数据\"}],\n\t\t\tnickname: \"热豆Wakary\",\n\t\t\tavatar: \"https://img0.baidu.com/it/u=2980445260,41238050&fm=26&fmt=auto&gp=0.jpg\",\n\t\t\tcompany: \"热豆科技\",\n\t\t\tphone: \"17610998099\",\n\t\t\temail: \"redoume@163.com\",\n\t\t\tlocation: \"北京\",\n\t\t\tfinished: false\n\t\t}\n\t},\n\tcomputed: {\n\t\tshowInvestAreas() {\n\t\t\tif (this.invest_areas) {\n\t\t\t\tconst names = []\n\t\t\t\tthis.invest_areas.forEach(item => {\n\t\t\t\t\tnames.push(item.name)\n\t\t\t\t})\n\t\t\t\treturn names.join(\" \")\n\t\t\t}\n\t\t\treturn '未设置'\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.canvasW = uni.getSystemInfoSync().windowWidth\n\t\tthis.canvasH = this.calculateCanvasHeight()\n\t\tthis.bgH = uni.getSystemInfoSync().windowHeight\n\t\tconsole.log(this.bgH)\n\t\tthis.toDrawCanvas()\n\t},\n\tmethods: {\n\t\ttoSaveImage() {\n\t\t\tif (!this.finished) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '正在生成图片，稍后再试',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t}\n\t\t\tconst that = this\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tcanvasId: 'mini_poster',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(res.tempFilePath)\n\t\t\t\t\tuni.saveImageToPhotosAlbum({\n\t\t\t\t\t\tfilePath: res.tempFilePath,\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '保存成功'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail(err) {\n\t\t\t\t\t\t\tif (err.errMsg === \"saveImageToPhotosAlbum:fail:auth denied\" || err.errMsg === \"saveImageToPhotosAlbum:fail auth deny\") {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t    title: '提示',\n\t\t\t\t\t\t\t\t    content: '需要您授权才能保存到相册',\n\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t    success: function (res) {\n\t\t\t\t\t\t\t\t        if (res.confirm) {\n\t\t\t\t\t\t\t\t            uni.openSetting({\n\t\t\t\t\t\t\t\t\t\t\t\tsuccess(settingdata) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (settingdata.authSetting['scope.writePhotosAlbum']) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t  uni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '获取权限成功,再次点击按钮即可保存',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t  uni.showModal({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent: '获取权限失败，将无法保存到相册哦~',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t        } \n\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '保存海报失败'\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tasync toDrawCanvas() {\n\t\t\tconst padding = uni.upx2px(50)\n\t\t\tconst cardHeight = uni.upx2px(380)\n\t\t\tconst cw = this.canvasW - 2 * padding\n\n\t\t\tlet ctx = uni.createCanvasContext('mini_poster', this)\n\n\t\t\t// 透明背景\n\t\t\tctx.setFillStyle('#ffffff')\n\t\t\tctx.fillRect(0, 0, this.canvasW, this.bgH) //绘制海报可视范围\n\t\t\tctx.drawImage('../../static/img/icons/bg.jpg', 0, 0, this.canvasW, this.bgH)\n\t\t\t// draw card round rect\n\t\t\tconst r = uni.upx2px(12)\n\t\t\t// this.drawRoundRect(ctx, padding, padding, cw, cardHeight, r, 2)\n\t\t\t// draw card content\n\t\t\t// this.drawCard(ctx, padding, padding, cw, cardHeight)\n\t\t\t// draw avatar\n\t\t\tconst av = uni.upx2px(128)\n\t\t\tconst hi = await this.downloadImage(this.avatar)\n\t\t\tif (hi.tempFilePath) {\n\t\t\t\tconst x = this.canvasW - padding - uni.upx2px(40) - av\n\t\t\t\tconst y = padding + uni.upx2px(40)\n\t\t\t\t// this.drawRoundRectAvatar(ctx, x, y, av, av, r, hi.tempFilePath)\n\t\t\t}\n\t\t\t// draw hello info\n\t\t\tthis.drawHelloInfo(ctx, padding, padding + cardHeight + padding, cw)\n\t\t\t// draw qr code\n\t\t\tif (this.mpWxQr) {\n\t\t\t\tconst hello = await this.downloadImage(this.mpWxQr)\n\t\t\t\tconst padding = uni.upx2px(34)\n\t\t\t\tconst av = uni.upx2px(200)\n\t\t\t\tconst totalH = this.calculateCanvasHeight()\n\t\t\t\tif (hello.tempFilePath) {\n\t\t\t\t\tctx.drawImage(hello.tempFilePath, this.canvasW - padding - av, totalH - padding - av, av, av)\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.draw(false, (() => {}))\n\t\t\tthis.finished = true\n\t\t},\n\t\tasync drawCard(ctx, x, y, w, h) {\n\t\t\t// draw company\n\t\t\tlet vp = y + uni.upx2px(45)\n\t\t\tconst hp = x + uni.upx2px(52)\n\t\t\tctx.setTextBaseline('top')\n\t\t\tconst fz30 = uni.upx2px(30)\n\t\t\tctx.fillStyle = '#2E3B67'\n\t\t\tctx.setFontSize(fz30)\n\t\t\tctx.fillText(this.company, hp, vp)\n\n\t\t\t// draw nickname\n\t\t\tvp = vp + 30\n\t\t\tconst fz50 = uni.upx2px(50)\n\t\t\tctx.setFillStyle('#333333')\n\t\t\tctx.setFontSize(fz50)\n\t\t\tctx.fillText(this.nickname, hp, vp)\n\n\t\t\tvp = vp + 42\n\t\t\tconst iconW = uni.upx2px(30)\n\t\t\tconst textH = hp + iconW + 6\n\n\n\n\n\t\t\tctx.drawImage('../../static/img/icons/edit.png', hp, vp, iconW, iconW)\n\n\t\t\tctx.setFillStyle('#333333')\n\t\t\tctx.setFontSize(fz30)\n\t\t\tctx.fillText(this.location, textH, vp)\n\n\t\t\tvp = vp + 28\n\n\n\n\n\t\t\tctx.drawImage('../../static/img/icons/edit.png', hp, vp, iconW, iconW)\n\n\t\t\tctx.setFillStyle('#333333')\n\t\t\tctx.setFontSize(fz30)\n\t\t\t// ctx.fillText(this.showInvestAreas, textH, vp)\n\t\t\tconst oPadding = uni.upx2px(34)\n\t\t\tconst iPadding = uni.upx2px(40)\n\t\t\tconst textW = w - textH + oPadding - iPadding\n\t\t\tthis.drawTextInOneLine(ctx, this.showInvestAreas, textH, vp, textW)\n\n\t\t\tvp = vp + 28\n\n\n\n\n\t\t\tctx.drawImage('../../static/img/icons/edit.png', hp, vp, iconW, iconW)\n\n\t\t\tctx.setFillStyle('#333333')\n\t\t\tctx.setFontSize(fz30)\n\t\t\tctx.fillText(this.phone ? this.phone : '', textH, vp)\n\t\t},\n\t\tasync drawHelloInfo(ctx, x, y, w) {\n\t\t\tlet vp = y + 12\n\t\t\tconst hp = x\n\t\t\tctx.setTextBaseline('top')\n\t\t\tconst fz30 = uni.upx2px(35)\n\t\t\tctx.setFillStyle('#f0ad4e')\n\t\t\tctx.setFontSize(fz30)\n\t\t\t// ctx.fillText('您好，', hp, vp)\n\t\t\t// const text = \"我是来自 \" + this.company + ' 的投资人' + this.nickname\n\t\t\tconst text = \"邀请与被邀请双方\"\n\t\t\tconst lines = this.drawTextInLines(ctx, text, hp, vp, w, 26)\n\t\t\tvp += 26 * lines + 30\n\t\t\tctx.fillText('各获得一张3点能量券', hp, vp)\n\t\t\t// vp += 26\n\t\t\t// ctx.fillText('谢谢', hp, vp)\n\n\t\t\tvp += 26\n\t\t\tvp += 40\n\t\t\tctx.setFillStyle('#fff')\n\t\t\tctx.fillRect(hp, vp, 30, 3)\n\t\t\tvp += 10\n\t\t\tctx.setFillStyle('#fff')\n\t\t\tconst fz28 = uni.upx2px(28)\n\t\t\tctx.setFontSize(fz28)\n\t\t\tctx.fillText('长按识别二维码', hp, vp)\n\t\t\tvp += 20\n\t\t\tconst ttt = '邀请兑奖码：JIODSJFISF'\n\t\t\tctx.fillText(ttt, hp, vp)\n\t\t},\n\t\tcalculateCanvasHeight() {\n\t\t\t// 400 is card height\n\t\t\tconst ctx = uni.createCanvasContext('test_poster')\n\t\t\tconst padding = uni.upx2px(34)\n\t\t\tconst text = \"我是来自 \" + this.company + ' 的投资人' + this.nickname\n\t\t\tconst rows = this.drawTextInLines(ctx, text, padding, 0, this.canvasW - 2 * padding, 26)\n\t\t\tconst cardH = uni.upx2px(380)\n\t\t\tconst h = padding * 2 + cardH + padding + 12 + 26 * 3 + rows * 26\n\t\t\treturn h + 90\n\t\t},\n\t\t_drawRoundRect(ctx, x, y, w, h, r) {\n\t\t\tctx.beginPath()\n\t\t\t// 左上角\n\t\t\tctx.arc(x + r, y + r, r, Math.PI, Math.PI * 1.5)\n\t\t\t// 右上角\n\t\t\tctx.arc(x + w - r, y + r, r, Math.PI * 1.5, Math.PI * 2)\n\t\t\t// 右下角\n\t\t\tctx.arc(x + w - r, y + h - r, r, 0, Math.PI * 0.5)\n\t\t\t// 左下角\n\t\t\tctx.arc(x + r, y + h - r, r, Math.PI * 0.5, Math.PI)\n\t\t\tctx.closePath()\n\t\t\t// ctx.strokeStyle = '#D8D8D8';\n\t\t\tctx.fillStyle = '#FFFFFF';\n\t\t\t// ctx.stroke()\n\t\t\tctx.fill()\n\t\t},\n\t\tdrawRoundRect(ctx, x, y, w, h, r, lineWidth) {\n\t\t\tctx.save()\n\t\t\tthis._drawRoundRect(ctx, x, y, w, h, r)\n\t\t\tctx.clip()\n\t\t\t// draw left border\n\t\t\tctx.fillStyle = this.company ? '#2E3B67' : '#333333'\n\t\t\tconst bWidth = uni.upx2px(12)\n\t\t\tctx.fillRect(x, y, bWidth, h)\n\t\t\tctx.restore()\n\t\t},\n\t\tdrawRoundRectAvatar(ctx, x, y, w, h, r, imgPath) {\n\t\t\tctx.save()\n\t\t\tthis._drawRoundRect(ctx, x, y, w, h, r)\n\t\t\tctx.clip()\n\t\t\tctx.drawImage(imgPath, x, y, w, h)\n\t\t\tctx.restore()\n\t\t},\n\t\t// TODO: measureText not works in App\n\t\tdrawTextInLines(ctx, t, x, y, w, lineHeight) {\n\t\t\tconst chr = t.split(\"\")\n\t\t\tlet temp = ''\n\t\t\tlet row = []\n\t\t\tfor (let i = 0; i < chr.length; i++) {\n\t\t\t\tif (ctx.measureText(temp).width < w) {\n\t\t\t\t\t//\n\t\t\t\t} else {\n\t\t\t\t\trow.push(temp)\n\t\t\t\t\ttemp = ''\n\t\t\t\t}\n\t\t\t\ttemp += chr[i]\n\t\t\t}\n\t\t\trow.push(temp)\n\t\t\tfor (const i in row) {\n\t\t\t\t// i + 1 will be 11, 21,...\n\t\t\t\tctx.fillText(row[i], x, (y + (i * 1 + 1) * lineHeight))\n\t\t\t}\n\t\t\treturn row.length\n\t\t},\n\t\t// TODO: measureText not works in app\n\t\tdrawTextInOneLine(ctx, t, x, y, w) {\n\t\t\tconst chr = t.split('')\n\t\t\tlet temp = ''\n\t\t\tfor (let i = 0; i < chr.length; i++) {\n\t\t\t\tif (ctx.measureText(temp + '...').width <= w) {\n\t\t\t\t\ttemp += chr[i]\n\t\t\t\t} else {\n\t\t\t\t\ttemp = temp.substring(0, temp.length - 1)\n\t\t\t\t\ttemp += '...'\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.fillText(temp, x, y)\n\t\t},\n\t\tdownloadImage(url) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tuni.downloadFile({\n\t\t\t\t\turl: url,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\treturn resolve(res)\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\treturn reject(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n}\n","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.7.5.20200519.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./share.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}